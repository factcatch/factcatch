<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta charset="UTF-8"> -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/style.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/modal.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/font.css') }}">
    <!-- <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/graph.css') }}"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans|Open+Sans+Condensed:300,700' rel='stylesheet' type='text/css'> -->
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/fact.js') }}"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script> -->

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- <script src="//d3js.org/d3-scale-chromatic.v1.min.js"></script> -->

    <!-- conversation -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fact Checking</title>
    <link rel='stylesheet' id='style-css' href="{{ url_for('static', filename='styles/style_conservation.css') }}"
        type='text/css' media='all' />
</head>

<body>
    <div id="budget-modal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2>Optimize Budget Allocation</h2>
            </div>
            <div class="modal-body">
                <form method=post action="/" enctype=multipart/form-data> <h4>Budget</h4>
                    <input type=number value=0 name=budget style="font-size: 18px;">
                    <input type="submit" value="OK" class="button">
                </form>
            </div>
        </div>
    </div>
    <div class="grid-container">
        <div class="header">
            <div class="grid-header">
                <div id="logo-griffith">
                    <a href="/">
                        <div>Fact Checking</div>
                    </a>
                </div>
                <div id="select-file" class="header-content">
                    <form method=post action="/upload" enctype=multipart/form-data> <input type="file" name="file"
                        id="file" class="inputfile" data-multiple-caption="{count} files selected" multiple />
                    <input type=submit value=Upload id="upload-btn">
                    </form>
                </div>
                <div class="header-content" style="text-align: right;">
                    <button class="button">
                        <a href="/download" style="color: white">Take Snapshot</a>
                    </button>
                    <!-- <a class="button" href="/download">Take Snapshot</a> -->
                    <button class="button" id="myBtn">Optimize Budget Allocation</button>
                    <button class="button">Stop Feedback</button>
                </div>
            </div>
        </div>
        <div id="block-content">
            <div>
                <div id="title-list-claim">
                    <span>Claims</span>
                    <input type="text" id="input-for-claim" onkeyup="searchClaim()" placeholder="Search for claims.."
                        title="Type in a name">
                </div>
                <div id="block-list-claim">
                    <ul id="list-claim">
                        {% for claim in data %}
                        <li onclick="selectClaim({{ loop.index }},{{ claim }});drawRelation({{ claim }})"
                            id="{{ claim['Claim_ID'] }}">
                            <div>
                                <span class="no-claim">{{ loop.index }}. </span> {{ claim["Claim"] }}
                            </div>
                            <div class="container">
                                <div class="progress2 progress-moved">
                                    <div class="progress-bar2">
                                    </div>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

            <div class="detail content">
                <div style="height: 560px;">
                    <div class="tab">
                        <button class="tablinks" onclick="openCity(event,'info-claim')" id="defaultOpen">Detail</button>
                        <button class="tablinks" onclick="openCity(event, 'relations')">Relations</button>
                        <button class="tablinks" onclick="openCity(event, 'sources')">Sources</button>
                        <div>
                            <form method=post action="/process">
                                <input type="hidden" name="claimId" value="{{ data[0].Claim_ID }}">
                                <!-- <div class="validation-claim"> -->
                                <input type=submit style="margin-right: 30px;" class="btn-validation" name="Credibility"
                                    value="Non-Credibility">
                                <input type=submit class="btn-validation" name="Credibility" value="Credibility">
                                <!-- </div> -->
                            </form>
                        </div>
                    </div>
                    <div id="info-claim" class="tabcontent item-tab">
                        <div>
                            <div>
                                <h4>
                                    Origins
                                </h4>
                                <p id="origins-claim">
                                    {{ data[0]["Origins"] }}
                                </p>
                            </div>
                            <div>
                                <h4>
                                    Description
                                </h4>
                                <span>
                                    <span id="description-short">
                                        {{ data[0]["Description"][:100] }}
                                    </span>
                                    <span id="dots">...</span>
                                    <span id="more">
                                        {{ data[0]["Description"][100:]}}
                                    </span>

                                    <button onclick="readMore()" id="btn-readmore" class="button">Read more</button>
                            </div>
                            <div>
                                <h4>
                                    Example
                                </h4>
                                <p id="example-claim">
                                    {{ data[0]["Example"] }}
                                </p>
                            </div>
                            <div>
                                <h4>
                                    Originally Published
                                </h4>
                                <p id="originally-published-claim">
                                    {{ data[0]["Originally Published"] }}
                                </p>
                            </div>
                            <div>
                                <h4>
                                    Last Updated
                                </h4>
                                <p id="last-updated-claim">
                                    {{ data[0]["Last Updated"] }}
                                </p>
                            </div>
                            <div id="tag-claim">
                                {% for tag in data[0]["Tags"]%}
                                <span class="tag-claim-item"> #{{ tag }} </span>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div id="sources" class="tabcontent item-tab">
                        <div class="chart"
                            style="grid-column-start:1;grid-column-end: 3;text-align: center;background-color: #fff;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <h2>Animated Collapsibles</h2>

    <p>A Collapsible:</p>
    <button class="collapsible">Open Collapsible</button>
    <div class="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat.</p>
    </div>

    <p>Collapsible Set:</p>
    <button class="collapsible">Open Section 1</button>
    <div class="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat.</p>
    </div>
    <button class="collapsible">Open Section 2</button>
    <div class="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat.</p>
    </div>
    <button class="collapsible">Open Section 3</button>
    <div class="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat.</p>
    </div>
    <script type="text/javascript" src="{{ url_for('static', filename='js/d3.v3.min.js') }}"></script>
    <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/conversation.min.js') }}"></script> -->
    <script type="text/javascript" src="{{ url_for('static', filename='js/fact.js') }}"></script>

    <script>
        $(document).ready(function () {
            document.getElementById('{{ data[0]["Claim_ID"] }}').click();
        });
    </script>
</body>
<script type="text/javascript" src="{{ url_for('static', filename='js/modal.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/search.js') }}"></script>

</html>